ğŸ—‚ Mapa final da base analÃ­tica Olist
1ï¸âƒ£ Tabela orders (nÃºcleo logÃ­stico)
Coluna	Usar?	ObservaÃ§Ã£o / Derivada
order_id	âœ…	PK, ligaÃ§Ã£o com todas as outras tabelas
customer_id	âœ…	FK â†’ customers
order_status	âœ…	Filtrar apenas entregues
order_purchase_timestamp	âœ…	Base para cÃ¡lculo de tempos
order_approved_at	âœ…	Base para processing_time_days
order_delivered_carrier_date	âš™ï¸	Base opcional para anÃ¡lise detalhada de despacho
order_delivered_customer_date	âœ…	Base para delivery_time_days
order_estimated_delivery_date	âœ…	Base para late_delivery_flag

VariÃ¡veis derivadas:

delivery_time_days = entrega real âˆ’ compra

processing_time_days = aprovaÃ§Ã£o âˆ’ compra

late_delivery_flag = 1 se entrega > prazo estimado

year_month = extraÃ­do de order_purchase_timestamp

2ï¸âƒ£ Tabela order_items (informaÃ§Ãµes de produtos por pedido)
Coluna	Usar?	ObservaÃ§Ã£o / Derivada
order_id	âœ…	FK â†’ orders
product_id	âœ…	FK â†’ products
price	âœ…	Base para ticket mÃ©dio e valor total
freight_value	âœ…	Base para frete mÃ©dio / impacto no atraso

VariÃ¡veis derivadas:

order_total_value = soma de price + freight por pedido

n_items = contagem de itens por pedido

avg_item_price = preÃ§o mÃ©dio por item

avg_freight_value = frete mÃ©dio por item

3ï¸âƒ£ Tabela order_reviews (satisfaÃ§Ã£o do cliente)
Coluna	Usar?	ObservaÃ§Ã£o / Derivada
order_id	âœ…	FK â†’ orders
review_score	âœ…	VariÃ¡vel-alvo principal
review_comment_message	âš™ï¸	Opcional, anÃ¡lise textual

VariÃ¡veis derivadas:

satisfaction_level = categorizaÃ§Ã£o de review_score (baixa/mÃ©dia/alta)

has_comment = indicador se o cliente comentou algo

Nota: review_pk Ã© apenas para integridade, nÃ£o Ã© usada na anÃ¡lise.

4ï¸âƒ£ Tabela products (caracterÃ­sticas do produto)
Coluna	Usar?	ObservaÃ§Ã£o / Derivada
product_id	âœ…	PK, ligaÃ§Ã£o com order_items
product_category_name	âœ…	Categoria â†’ anÃ¡lise de atrasos e reviews
product_weight_g	âœ…	Peso do produto
product_length_cm	âœ…	Comprimento
product_height_cm	âœ…	Altura
product_width_cm	âœ…	Largura

VariÃ¡veis derivadas:

product_volume = comprimento Ã— largura Ã— altura

avg_weight, avg_volume por categoria (opcional)

5ï¸âƒ£ Tabela customers (informaÃ§Ãµes geogrÃ¡ficas)
Coluna	Usar?	ObservaÃ§Ã£o / Derivada
customer_id	âœ…	PK, ligaÃ§Ã£o com orders
customer_city	âœ…	AnÃ¡lise regional detalhada
customer_state	âœ…	Agrupamento por estado
customer_zip_code_prefix	âš™ï¸	Opcional, anÃ¡lises mais detalhadas por CEP

VariÃ¡veis derivadas:

region_group = macro-regiÃ£o (Norte, Sul, Sudeste, etc.)
